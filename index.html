<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burger Shop</title>
    <style>
        body { font-family: sans-serif; background: var(--tg-theme-bg-color, #fff); color: var(--tg-theme-text-color, #000); padding: 20px; }
        .item { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .btn { background: var(--tg-theme-button-color, #3390ec); color: var(--tg-theme-button-text-color, #fff); border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        h1 { text-align: center; }
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>üçî Super Burger</h1>
    
    <div id="list">
        <div class="item">
            <span>–ß–∏–∑–±—É—Ä–≥–µ—Ä (150 –≥—Ä–Ω)</span>
            <button class="btn" onclick="addItem('–ß–∏–∑–±—É—Ä–≥–µ—Ä', 150)">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div class="item">
            <span>–ö–∞—Ä—Ç–æ—à–∫–∞ –§—Ä–∏ (80 –≥—Ä–Ω)</span>
            <button class="btn" onclick="addItem('–ö–∞—Ä—Ç–æ—à–∫–∞', 80)">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div class="item">
            <span>–ö–æ–ª–∞ (40 –≥—Ä–Ω)</span>
            <button class="btn" onclick="addItem('–ö–æ–ª–∞', 40)">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp; // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        let cart = [];

        function addItem(name, price) {
            cart.push({product: name, price: price});
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É "–ö—É–ø–∏—Ç—å" –≤–Ω–∏–∑—É
            if (cart.length > 0) {
                tg.MainButton.setText(`–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ (${cart.length} —à—Ç.)`);
                tg.MainButton.show();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–µ "–ö—É–ø–∏—Ç—å"
        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            // –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –≤ —Å—Ç—Ä–æ–∫—É JSON –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –±–æ—Ç—É
            let data = JSON.stringify(cart);
            tg.sendData(data); 
        });
    </script>
</body>
</html>
